{"ast":null,"code":"import _asyncToGenerator from \"/Users/jaymardaligdig/Desktop/poskimay/offline-version/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./sqlite.service\";\nimport * as i2 from \"./migrations.service\";\nexport let InitializeAppService = /*#__PURE__*/(() => {\n  class InitializeAppService {\n    constructor(sqliteService, migrationService) {\n      this.sqliteService = sqliteService;\n      this.migrationService = migrationService;\n    }\n\n    initializeApp() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this.sqliteService.initializePlugin().then( /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (ret) {\n            try {\n              //execute startup queries\n              yield _this.migrationService.migrate();\n            } catch (error) {\n              throw Error(`initializeAppError: ${error}`);\n            }\n          });\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      })();\n    }\n\n  }\n\n  InitializeAppService.ɵfac = function InitializeAppService_Factory(t) {\n    return new (t || InitializeAppService)(i0.ɵɵinject(i1.SQLiteService), i0.ɵɵinject(i2.MigrationService));\n  };\n\n  InitializeAppService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: InitializeAppService,\n    factory: InitializeAppService.ɵfac\n  });\n  return InitializeAppService;\n})();","map":{"version":3,"sources":["/Users/jaymardaligdig/Desktop/poskimay/offline-version/src/app/services/initialize.app.service.ts"],"names":["i0","i1","i2","InitializeAppService","constructor","sqliteService","migrationService","initializeApp","initializePlugin","then","ret","migrate","error","Error","ɵfac","InitializeAppService_Factory","t","ɵɵinject","SQLiteService","MigrationService","ɵprov","ɵɵdefineInjectable","token","factory"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,kBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sBAApB;AACA,WAAaC,oBAAb;AAAO,QAAMA,oBAAN,CAA2B;AAC9BC,IAAAA,WAAW,CAACC,aAAD,EAAgBC,gBAAhB,EAAkC;AACzC,WAAKD,aAAL,GAAqBA,aAArB;AACA,WAAKC,gBAAL,GAAwBA,gBAAxB;AACH;;AACKC,IAAAA,aAAa,GAAG;AAAA;;AAAA;AAClB,cAAM,KAAI,CAACF,aAAL,CAAmBG,gBAAnB,GAAsCC,IAAtC;AAAA,uCAA2C,WAAOC,GAAP,EAAe;AAC5D,gBAAI;AACA;AACA,oBAAM,KAAI,CAACJ,gBAAL,CAAsBK,OAAtB,EAAN;AACH,aAHD,CAIA,OAAOC,KAAP,EAAc;AACV,oBAAMC,KAAK,CAAE,uBAAsBD,KAAM,EAA9B,CAAX;AACH;AACJ,WARK;;AAAA;AAAA;AAAA;AAAA,YAAN;AADkB;AAUrB;;AAf6B;;AAiBlCT,EAAAA,oBAAoB,CAACW,IAArB,GAA4B,SAASC,4BAAT,CAAsCC,CAAtC,EAAyC;AAAE,WAAO,KAAKA,CAAC,IAAIb,oBAAV,EAAgCH,EAAE,CAACiB,QAAH,CAAYhB,EAAE,CAACiB,aAAf,CAAhC,EAA+DlB,EAAE,CAACiB,QAAH,CAAYf,EAAE,CAACiB,gBAAf,CAA/D,CAAP;AAA0G,GAAjL;;AACAhB,EAAAA,oBAAoB,CAACiB,KAArB,GAA6B,aAAcpB,EAAE,CAACqB,kBAAH,CAAsB;AAAEC,IAAAA,KAAK,EAAEnB,oBAAT;AAA+BoB,IAAAA,OAAO,EAAEpB,oBAAoB,CAACW;AAA7D,GAAtB,CAA3C;AAlBA,SAAaX,oBAAb;AAAA","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"./sqlite.service\";\nimport * as i2 from \"./migrations.service\";\nexport class InitializeAppService {\n    constructor(sqliteService, migrationService) {\n        this.sqliteService = sqliteService;\n        this.migrationService = migrationService;\n    }\n    async initializeApp() {\n        await this.sqliteService.initializePlugin().then(async (ret) => {\n            try {\n                //execute startup queries\n                await this.migrationService.migrate();\n            }\n            catch (error) {\n                throw Error(`initializeAppError: ${error}`);\n            }\n        });\n    }\n}\nInitializeAppService.ɵfac = function InitializeAppService_Factory(t) { return new (t || InitializeAppService)(i0.ɵɵinject(i1.SQLiteService), i0.ɵɵinject(i2.MigrationService)); };\nInitializeAppService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: InitializeAppService, factory: InitializeAppService.ɵfac });\n"]},"metadata":{},"sourceType":"module"}