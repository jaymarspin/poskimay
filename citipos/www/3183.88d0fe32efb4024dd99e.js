(self.webpackChunkpos3=self.webpackChunkpos3||[]).push([[3183],{3183:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SigninPageModule:()=>D});var i=n(8583),o=n(3679),r=n(2859),a=n(9895),s=n(4762),c=n(7716),l=n(8259),g=n.n(l);const m=["video"],d=["canvas"];function h(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().rotateVideoInput(!0)}),c["\u0275\u0275elementEnd"]()}}class p{constructor(e,t,n){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=t,this._imageAsDataUrl=e,this._imageData=n}static getDataFromDataUrl(e,t){return e.replace(`data:${t};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=p.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}class u{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((e,t)=>{navigator.mediaDevices.enumerateDevices().then(t=>{e(t.filter(e=>"videoinput"===e.kind))}).catch(e=>{t(e.message||e)})}):Promise.reject("enumerateDevices() not supported.")}}let f=(()=>{class e{constructor(){this.width=640,this.height=480,this.videoOptions=e.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=e.DEFAULT_IMAGE_TYPE,this.imageQuality=e.DEFAULT_IMAGE_QUALITY,this.imageCapture=new c.EventEmitter,this.initError=new c.EventEmitter,this.imageClick=new c.EventEmitter,this.cameraSwitched=new c.EventEmitter,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(e){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=e.subscribe(()=>{this.takeSnapshot()})}set switchCamera(e){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=e.subscribe(e=>{"string"==typeof e?this.switchToVideoInput(e):this.rotateVideoInput(!1!==e)})}static getMediaConstraintsForDevice(e,t){const n=t||this.DEFAULT_VIDEO_OPTIONS;return e&&(n.deviceId={exact:e}),n}static getDeviceIdFromMediaStreamTrack(t){if(t.getSettings&&t.getSettings()&&t.getSettings().deviceId)return t.getSettings().deviceId;if(t.getConstraints&&t.getConstraints()&&t.getConstraints().deviceId){const n=t.getConstraints().deviceId;return e.getValueFromConstrainDOMString(n)}}static getFacingModeFromMediaStreamTrack(t){if(t){if(t.getSettings&&t.getSettings()&&t.getSettings().facingMode)return t.getSettings().facingMode;if(t.getConstraints&&t.getConstraints()&&t.getConstraints().facingMode){const n=t.getConstraints().facingMode;return e.getValueFromConstrainDOMString(n)}}}static isUserFacing(t){const n=e.getFacingModeFromMediaStreamTrack(t);return!!n&&"user"===n.toLowerCase()}static getValueFromConstrainDOMString(e){if(e){if(e instanceof String)return String(e);if(Array.isArray(e)&&Array(e).length>0)return String(e[0]);if("object"==typeof e){if(e.exact)return String(e.exact);if(e.ideal)return String(e.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(e=>{this.initError.next({message:e}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const t=this.nativeVideoElement,n={width:this.width,height:this.height};t.videoWidth&&(n.width=t.videoWidth,n.height=t.videoHeight);const i=this.canvas.nativeElement;i.width=n.width,i.height=n.height;const o=i.getContext("2d");o.drawImage(t,0,0);const r=this.imageType?this.imageType:e.DEFAULT_IMAGE_TYPE,a=i.toDataURL(r,this.imageQuality?this.imageQuality:e.DEFAULT_IMAGE_QUALITY);let s=null;this.captureImageData&&(s=o.getImageData(0,0,i.width,i.height)),this.imageCapture.next(new p(a,r,s))}rotateVideoInput(e){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(e?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}switchToVideoInput(e){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(e,this.videoOptions)}videoResize(){}get videoWidth(){const e=this.getVideoAspectRatio();return Math.min(this.width,this.height*e)}get videoHeight(){const e=this.getVideoAspectRatio();return Math.min(this.height,this.width/e)}get videoStyleClasses(){let e="";return this.isMirrorImage()&&(e+="mirrored "),e.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const e=this.nativeVideoElement;return e.videoWidth&&e.videoWidth>0&&e.videoHeight&&e.videoHeight>0?e.videoWidth/e.videoHeight:this.width/this.height}initWebcam(t,n){const i=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const o=e.getMediaConstraintsForDevice(t,n);navigator.mediaDevices.getUserMedia({video:o}).then(t=>{this.mediaStream=t,i.srcObject=t,i.play(),this.activeVideoSettings=t.getVideoTracks()[0].getSettings();const n=e.getDeviceIdFromMediaStreamTrack(t.getVideoTracks()[0]);this.cameraSwitched.next(n),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=n?this.availableVideoInputs.findIndex(e=>e.deviceId===n):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(e=>{this.initError.next({message:e.message,mediaStreamError:e})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let e="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?e=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(e=this.mirrorImage.x.toLowerCase())),e){case"always":return!0;case"never":return!1}}return e.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&this.mediaStream.getTracks().forEach(e=>e.stop())}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((e,t)=>{u.getAvailableVideoInputs().then(t=>{this.availableVideoInputs=t,e(t)}).catch(e=>{this.availableVideoInputs=[],t(e)})})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["webcam"]],viewQuery:function(e,t){if(1&e&&(c["\u0275\u0275viewQuery"](m,7),c["\u0275\u0275viewQuery"](d,7)),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.video=e.first),c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.canvas=e.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera",mirrorImage:"mirrorImage"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275listener"]("click",function(){return t.imageClick.next()}),c["\u0275\u0275elementStart"](1,"video",1,2),c["\u0275\u0275listener"]("resize",function(){return t.videoResize()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,h,1,0,"div",3),c["\u0275\u0275element"](4,"canvas",4,5),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275classMap"](t.videoStyleClasses),c["\u0275\u0275property"]("width",t.videoWidth)("height",t.videoHeight),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.allowCameraSwitch&&t.availableVideoInputs.length>1&&t.videoInitialized),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("width",t.width)("height",t.height))},directives:[i.NgIf],styles:['.webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:0;position:relative}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC");background-position:50%;background-repeat:no-repeat;background-size:80%;border-radius:5px;cursor:pointer;height:48px;position:absolute;right:13px;top:10px;transition:background-color .2s ease;width:48px}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}']}),e.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},e.DEFAULT_IMAGE_TYPE="image/jpeg",e.DEFAULT_IMAGE_QUALITY=.92,e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[i.CommonModule]]}),e})();var v=n(9765),w=n(6858);function C(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"ion-item",8),c["\u0275\u0275elementStart"](1,"ion-label",9),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"ion-radio",10),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate2"](" ",e.lname,", ",e.fname," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("value",e.id)}}let S=(()=>{class e{constructor(e,t){this.http=e,this.popoverController=t,this.goTimeOut=null}ngOnInit(){this.http.getData("get-employees-signin.php").subscribe({next:e=>{console.log(e),this.employees=e},error:e=>{console.log(e)}})}submit(e){if(this.id){const t={myimage:this.myimage,inout:e,id:this.id,goTimeOut:this.goTimeOut};console.log(t),this.http.postData("add-attendance.php",t).subscribe({next:e=>{console.log(e),"success"===e.body.message?g().fire("Good job!","Time logged Successfully","success").then(()=>{delete this.goTimeOut,this.popoverController.dismiss()}):"suggesttimein"===e.body.message?g().fire({title:`You have not timed out for ${e.body.hours} hours`,text:'if this is charged as over time press "proceed to time out" otherwise press the "cancel" button',icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"proceed to timed out"}).then(e=>{e.isConfirmed&&(this.goTimeOut=1,this.submit("time out"))}):"shouldTimeIn"===e.body.message?g().fire("The Internet?","You have not time in yet","question"):g().fire({icon:"error",title:"Oops...",backdrop:!1,text:e.body.message})},error:e=>{console.log(e),g().fire({icon:"error",title:"Oops...",backdrop:!1,text:e})}})}else g().fire({icon:"error",title:"Oops...",backdrop:!1,text:"Please select you name first"})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](w.O),c["\u0275\u0275directiveInject"](r.Dh))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-choose-employee"]],inputs:{myimage:"myimage"},decls:18,vars:2,consts:[["size","12"],[1,"menu-wrapper"],[1,"bg-transparent"],["value","biff",3,"ngModel","ngModelChange"],["lines","full",4,"ngFor","ngForOf"],["size","6"],["color","success","id","timeinbtn",3,"click"],["color","success",3,"click"],["lines","full"],["color","light"],["slot","start",3,"value"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"ion-content"),c["\u0275\u0275elementStart"](1,"ion-grid"),c["\u0275\u0275elementStart"](2,"ion-row"),c["\u0275\u0275elementStart"](3,"ion-col",0),c["\u0275\u0275elementStart"](4,"div",1),c["\u0275\u0275elementStart"](5,"ion-list",2),c["\u0275\u0275elementStart"](6,"ion-radio-group",3),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.id=e}),c["\u0275\u0275elementStart"](7,"ion-list-header"),c["\u0275\u0275elementStart"](8,"ion-label"),c["\u0275\u0275text"](9,"Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](10,C,4,3,"ion-item",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"ion-row"),c["\u0275\u0275elementStart"](12,"ion-col",5),c["\u0275\u0275elementStart"](13,"ion-button",6),c["\u0275\u0275listener"]("click",function(){return t.submit("time in")}),c["\u0275\u0275text"](14,"Time in"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"ion-col",5),c["\u0275\u0275elementStart"](16,"ion-button",7),c["\u0275\u0275listener"]("click",function(){return t.submit("time out")}),c["\u0275\u0275text"](17,"Time out"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngModel",t.id),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngForOf",t.employees))},directives:[r.W2,r.jY,r.Nd,r.wI,r.q_,r.se,r.QI,o.JJ,o.On,r.yh,r.Q$,i.NgForOf,r.YG,r.Ie,r.B7,r.U5],styles:[".menu-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;background-color:#50545c}.bg-transparent[_ngcontent-%COMP%]{background:#0000}.bg-transparent[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:#0000}#timeinbtn[_ngcontent-%COMP%]{position:relative;float:right}"]}),e})();var y=n(7465);function E(e,t){1&e&&c["\u0275\u0275element"](0,"ion-progress-bar",20)}function I(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"webcam",24),c["\u0275\u0275listener"]("imageCapture",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).handleImage(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"div",25),c["\u0275\u0275elementStart"](3,"ion-button",26),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).takeSnapshot()}),c["\u0275\u0275text"](4,"Take Picture"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("height",500)("width",1e3)("trigger",e.triggerObservable)("switchCamera",e.nextWebcamObservable)}}function x(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"ion-grid"),c["\u0275\u0275elementStart"](1,"ion-row"),c["\u0275\u0275elementStart"](2,"ion-col",27),c["\u0275\u0275element"](3,"img",28),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"ion-row"),c["\u0275\u0275element"](5,"ion-col",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"ion-row"),c["\u0275\u0275elementStart"](7,"ion-col",29),c["\u0275\u0275elementStart"](8,"ion-button",30),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).change()}),c["\u0275\u0275text"](9," Change "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"ion-col",29),c["\u0275\u0275elementStart"](11,"ion-button",31),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).submit()}),c["\u0275\u0275text"](12," Submit "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("src",e.myimage,c["\u0275\u0275sanitizeUrl"])}}function O(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"ul"),c["\u0275\u0275elementStart"](1,"li"),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"json"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,1,e))}}function M(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"h4"),c["\u0275\u0275text"](2,"Error Messages:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,O,4,3,"ul",32),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e.errors)}}function A(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"div",21),c["\u0275\u0275elementStart"](2,"h1"),c["\u0275\u0275text"](3,"Take a selfie for your attendance"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](4,I,5,4,"ng-container",3),c["\u0275\u0275template"](5,x,13,1,"ng-template",null,22,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,M,4,1,"div",23),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](6),t=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",t.showWebcam)("ngIfElse",e),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.errors.length>0)}}function k(e,t){1&e&&c["\u0275\u0275text"](0," Camera device not available ")}const P=[{path:"",component:(()=>{class e{constructor(e,t,n,i){this.router=e,this.global=t,this.http=n,this.popoverController=i,this.getPicture=new c.EventEmitter,this.showWebcam=!0,this.isCameraExist=!0,this.errors=[],this.loading=!1,this.trigger=new v.xQ,this.nextWebcam=new v.xQ,this.accountType="employee"}ngOnInit(){u.getAvailableVideoInputs().then(e=>{this.isCameraExist=e&&e.length>0})}setter(e){return(0,s.mG)(this,void 0,void 0,function*(){return localStorage.setItem("accountType",this.accountType),yield localStorage.setItem("id",e)})}login(){if(this.uname&&this.password&&this.accountType){const e={username:this.uname,password:this.password,accountType:this.accountType};this.loading=!0,this.http.postData("signin.php",e).subscribe({next:e=>{console.log(e.body),this.loading=!1,"success"===e.body.message?g().fire("Good job!","You clicked the button!","success").then(()=>{this.setter(e.body.id).then(()=>{this.router.navigate("owner"===this.accountType?["splash"]:["home"],{replaceUrl:!0})})}):g().fire({icon:"error",title:"Oops...",text:e.body.message,footer:" "})},onerror:e=>{console.log(e),this.loading=!1}})}else g().fire({icon:"error",title:"Oops...",text:"Complete the fields",footer:" "})}takeSnapshot(){this.trigger.next()}onOffWebCame(){this.showWebcam=!this.showWebcam}handleInitError(e){this.errors.push(e)}changeWebCame(e){this.nextWebcam.next(e)}handleImage(e){console.log(e),this.myimage=e.imageAsDataUrl,this.getPicture.emit(this.myimage),this.showWebcam=!1}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}change(){delete this.myimage,this.showWebcam=!0}submit(){this.presentPopover().then(()=>{delete this.myimage,this.showWebcam=!0})}presentPopover(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.popoverController.create({component:S,cssClass:"my-custom-class",translucent:!0,componentProps:{myimage:this.myimage}});yield e.present();const{role:t}=yield e.onDidDismiss();console.log("onDidDismiss resolved with role",t)})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](a.F0),c["\u0275\u0275directiveInject"](y.U),c["\u0275\u0275directiveInject"](w.O),c["\u0275\u0275directiveInject"](r.Dh))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-signin"]],outputs:{getPicture:"getPicture"},decls:33,vars:6,consts:[["style","position: fixed;z-index: 99;","type","indeterminate","color","warning",4,"ngIf"],[1,"wrapper"],[1,"webcam"],[4,"ngIf","ngIfElse"],["noCameraExist",""],[1,"login-page"],[1,"form"],[1,"register-form"],["type","text","placeholder","name"],["type","password","placeholder","password"],["type","text","placeholder","email address"],[1,"message"],["href","#"],[1,"login-form"],["type","text","name","uname","placeholder","username",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","password",3,"ngModel","ngModelChange"],[3,"click"],["name","accountType",3,"ngModel","ngModelChange"],["value","owner"],["value","employee"],["type","indeterminate","color","warning",2,"position","fixed","z-index","99"],[2,"text-align","center"],["showpic",""],[4,"ngIf"],[3,"height","width","trigger","switchCamera","imageCapture"],[1,"btn-group"],[1,"button",3,"click"],["size","12"],[3,"src"],["size","6"],["color","secondary",3,"click"],["color","warning",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e&&(c["\u0275\u0275template"](0,E,1,0,"ion-progress-bar",0),c["\u0275\u0275elementStart"](1,"ion-content"),c["\u0275\u0275elementStart"](2,"div",1),c["\u0275\u0275elementStart"](3,"div",2),c["\u0275\u0275template"](4,A,8,3,"div",3),c["\u0275\u0275template"](5,k,1,0,"ng-template",null,4,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"form",7),c["\u0275\u0275element"](10,"input",8),c["\u0275\u0275element"](11,"input",9),c["\u0275\u0275element"](12,"input",10),c["\u0275\u0275elementStart"](13,"button"),c["\u0275\u0275text"](14,"create"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"p",11),c["\u0275\u0275text"](16,"Already registered? "),c["\u0275\u0275elementStart"](17,"a",12),c["\u0275\u0275text"](18,"Sign In"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"form",13),c["\u0275\u0275elementStart"](20,"input",14),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.uname=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"input",15),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.password=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"button",16),c["\u0275\u0275listener"]("click",function(){return t.login()}),c["\u0275\u0275text"](23,"login"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"ion-radio-group",17),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.accountType=e}),c["\u0275\u0275elementStart"](25,"ion-item"),c["\u0275\u0275elementStart"](26,"ion-label"),c["\u0275\u0275text"](27,"Owner"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](28,"ion-radio",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"ion-item"),c["\u0275\u0275elementStart"](30,"ion-label"),c["\u0275\u0275text"](31,"Employee"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](32,"ion-radio",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](6);c["\u0275\u0275property"]("ngIf",!0===t.loading),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",t.isCameraExist)("ngIfElse",e),c["\u0275\u0275advance"](16),c["\u0275\u0275property"]("ngModel",t.uname),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.password),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",t.accountType)}},directives:[i.NgIf,r.W2,o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,r.se,r.QI,r.Ie,r.Q$,r.B7,r.U5,r.X7,f,r.YG,r.jY,r.Nd,r.wI,i.NgForOf],pipes:[i.JsonPipe],styles:['@import url(https://fonts.googleapis.com/css?family=Roboto:300);.webcam[_ngcontent-%COMP%]{float:left;clear:left;margin-left:30px}.login-page[_ngcontent-%COMP%], .webcam[_ngcontent-%COMP%]{position:relative;top:50%;transform:translateY(-50%)}.login-page[_ngcontent-%COMP%]{width:360px;padding:8% 0 0;float:right;margin-right:30px}.form[_ngcontent-%COMP%]{position:relative;z-index:1;background:#fff;max-width:360px;margin:0 auto 100px;padding:45px;text-align:center;box-shadow:0 0 20px 0 #0003,0 5px 5px 0 #0000003d}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#f2f2f2;margin:0 0 15px;box-sizing:border-box}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;outline:0;width:100%;border:0;padding:15px;font-size:14px}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;background:#4caf50;color:#fff;transition:all .3 ease;cursor:pointer}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#43a047}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin:15px 0 0;color:#b3b3b3;font-size:12px}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none}.form[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:300px;margin:0 auto}.container[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]:before{content:"";display:block;clear:both}.container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin:50px auto;text-align:center}.container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 15px;padding:0;font-size:36px;font-weight:300;color:#1a1a1a}.container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4d4d4d;font-size:12px}.container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#ef3b3a}body[_ngcontent-%COMP%]{background:#76b852;background:linear-gradient(270deg,#76b852,#8dc26f);font-family:Roboto,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.wrapper[_ngcontent-%COMP%]{position:relative;height:100vh;width:100%;background-image:linear-gradient(to right top,#d16ba5,#c777b9,#ba83ca,#aa8fd8,#9a9ae1,#8aa7ec,#79b3f4,#69bff8,#52cffe,#41dfff,#46eefa,#5ffbf1)}']}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[a.Bz.forChild(P)],a.Bz]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,o.u5,r.Pc,b,_]]}),e})()}}]);